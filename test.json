{
    "$schema": "/home/artomb/git/devopsfaith/krakend-autocomplete/service.json",
    "@comment": "Attribute not in schema, but ignored as it starts with @",
    "_comment": "Attribute not in schema, but ignored as it starts with _",
    "$comment": "Attribute not in schema, but ignored as it starts with $",
    "#comment": "Attribute not in schema, but ignored as it starts with #",
    "version": 3,
    "name": "KrakenD configuration at MyCompany",
    "port": 8080,
    "timeout": "2s",
    "output_encoding": "json",
    "read_timeout": "10s",
    "write_timeout": "10s",
    "dialer_timeout": "10s",
    "dialer_keep_alive": "15s",
    "dialer_fallback_delay": "300ms",
    "disable_compression": false,
    "disable_keep_alives": true,
    "max_idle_connections": 0,
    "max_idle_connections_per_host": 2,
    "idle_connection_timeout": "10s",
    "response_header_timeout": "10s",
    "expect_continue_timeout": "0s",
    "disable_rest": false,
    "tls": {
        "public_key": "./cert.pem",
        "private_key": "./certs/key.pem",
        "disabled": false,
        "min_version": "TLS12",
        "max_version": "SSL3.0",
        "enable_mtls": false,
        "curve_preferences": [
            23,
            24,
            25
        ],
        "prefer_server_cipher_suites": false,
        "cipher_suites": [
            4865
        ]
    },
    "plugin": {
        "folder": "/opt/krakend/plugins/",
        "pattern": ".so"
    },
    "endpoints": [
        {
            "endpoint": "/foo/{var}",
            "method": "GET",
            "output_encoding": "json-collection",
            "querystring_params": [
                "*"
            ],
            "headers_to_pass": [
                "User-Agent"
            ],
            "concurrent_calls": 4,
            "timeout": "1500ms",
            "cache_ttl": "300s",
            "backend": [
                {
                    "url_pattern": "/foo/{var}",
                    "encoding": "json",
                    "sd": "static",
                    "method": "GET",
                    "disable_host_sanitize": false,
                    "host": [
                        "http://some_host"
                    ],
                    "target": "data",
                    "deny": [
                        "a"
                    ],
                    "allow": [
                        "b"
                    ],
                    "group": "backend1",
                    "mapping": {
                        "from": "to"
                    },
                    "is_collection": true
                }
            ]
        }
    ],
    "extra_config": {
        "security/bot-detector": {
            "allow": [
                "MyAndroidClient/1.0"
            ],
            "cache_size": 100,
            "deny": [
                "facebookexternalhit/1.1"
            ],
            "patterns": [
                "(facebookexternalhit)/.*"
            ]
        },
        "security/cors": {
            "allow_origins": [
                "*"
            ],
            "allow_methods": [
                "POST",
                "GET"
            ],
            "allow_headers": [
                "Accept-Language"
            ],
            "expose_headers": [
                "Header-1"
            ],
            "max_age": "15h",
            "allow_credentials": true,
            "debug": true
        },
        "security/http": {
            "allowed_hosts": [
                "host.known.com:443"
            ],
            "ssl_proxy_headers": {
                "X-Forwarded-Proto": "https"
            },
            "host_proxy_headers": [
                "X-Forwarded-Hosts"
            ],
            "ssl_redirect": true,
            "ssl_host": "ssl.host.domain",
            "sts_seconds": 300,
            "sts_include_subdomains": true,
            "frame_deny": true,
            "referrer_policy": "same-origin",
            "custom_frame_options_value": "ALLOW-FROM https://example.com",
            "hpkp_public_key": "pin-sha256=\"base64==\"; max-age=expireTime [; includeSubDomains][; report-uri=\"reportURI\"]",
            "content_type_nosniff": true,
            "browser_xss_filter": true,
            "content_security_policy": "default-src 'self';",
            "is_development": true
        }
    }
}